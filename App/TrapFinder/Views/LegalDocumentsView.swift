import SwiftUI

struct TermsView: View {
    var body: some View {
        ScrollView {
            VStack(alignment: .leading, spacing: 16) {
                Text(L10n.terms.text)
                    .font(.largeTitle)
                    .bold()
                    .padding(.bottom, 8)
                
                Text("""
                最終更新日: 2025年12月9日
                
                TrapFinder利用規約
                
                この利用規約（以下「本規約」）は、TrapFinder（以下「本アプリ」）の利用条件を定めるものです。本アプリをダウンロード、インストール、または使用することにより、ユーザーは本規約に同意したものとみなされます。
                
                第1条（定義）
                
                1. 「本アプリ」とは、TrapFinderおよび関連するサービスを指します。
                2. 「ユーザー」とは、本アプリを利用するすべての個人を指します。
                3. 「運営者」とは、本アプリを提供・運営する者を指します。
                
                第2条（サービスの内容）
                
                本アプリは、AI技術を用いて契約書や利用規約などの文書を解析し、重要なポイントを抽出する読解補助ツールです。
                
                提供機能：
                • カメラ撮影による文書のスキャン
                • PDFファイルの読み込みと解析
                • URLからの文書取得と解析
                • テキストの直接入力と解析
                • AI による重要ポイントの自動抽出
                
                第3条（重要な免責事項）
                
                3.1 本アプリは読解補助ツールです
                本アプリは、文書の読解を補助するツールであり、以下のサービスを提供するものではありません：
                • 法的助言または法律相談
                • 弁護士業務
                • 契約の代行または保証
                • 署名の推奨または保証
                
                3.2 AI解析の限界
                本アプリが使用するAI技術には以下の限界があります：
                • 100%の正確性を保証するものではありません
                • 文脈の誤解釈や見落としが発生する可能性があります
                • 最新の法令や判例を反映していない場合があります
                • 専門的な法律用語の解釈に誤りが生じる可能性があります
                
                3.3 ユーザーの責任
                • 契約書への署名や重要な判断は、必ずユーザー自身の責任で行ってください
                • 法的な判断が必要な場合は、必ず弁護士等の専門家にご相談ください
                • 本アプリの解析結果のみに基づく判断により生じた損害について、運営者は一切の責任を負いません
                
                第4条（サービスの利用）
                
                4.1 利用方法
                • 本アプリは無料でご利用いただけます
                • 解析機能を使用する際は、動画広告の視聴が必要です
                • 1回あたり50,000文字まで解析可能です
                • 広告が正常に再生されない場合、解析が実行できないことがあります
                
                4.2 広告について
                • 本アプリは、Google AdMobを通じて広告を配信しています
                • 広告の内容は、Google AdMobが決定します
                • 広告を最後まで視聴することで、解析機能をご利用いただけます
                
                第5条（禁止事項）
                
                ユーザーは、本アプリの利用にあたり、以下の行為を禁止します：
                1. 法令または公序良俗に違反する行為
                2. 犯罪行為に関連する文書の解析
                3. 第三者の権利を侵害する行為
                4. 本アプリの機能を不正に利用する行為
                5. リバースエンジニアリング、逆コンパイル、逆アセンブル
                6. 大量のリクエストによるサーバーへの過度な負荷
                7. 自動化ツールやボットを使用した利用
                
                第6条（データの取り扱い）
                
                6.1 データの処理
                ユーザーが提供した文書データは、OpenAI APIを使用して解析されます。詳細はプライバシーポリシーをご参照ください。
                
                6.2 データの保持
                解析に使用されたデータは、解析完了後速やかに削除されます。
                
                第7条（サービスの変更・停止）
                
                運営者は、以下の場合にサービスの全部または一部を変更・停止することができます：
                • システムメンテナンスのため
                • 緊急の障害対応のため
                • 法令の変更に対応するため
                • その他、運営上必要と判断した場合
                
                第8条（免責事項）
                
                8.1 サービスの中断
                運営者は、システム障害、通信障害、第三者サービスの停止等により、本アプリのサービスが中断された場合、一切の責任を負いません。
                
                8.2 損害賠償の制限
                本アプリの利用により生じた直接的または間接的な損害について、運営者は一切の責任を負いません。ただし、運営者の故意または重過失による場合はこの限りではありません。
                
                第9条（知的財産権）
                
                本アプリに関する著作権、商標権、その他の知的財産権は、運営者または正当な権利者に帰属します。
                
                第10条（本規約の変更）
                
                運営者は、必要に応じて本規約を変更することができます。重要な変更がある場合は、アプリ内で通知します。変更後も本アプリを継続して使用した場合、変更後の規約に同意したものとみなされます。
                
                第11条（準拠法および管轄裁判所）
                
                本規約の解釈および適用は、日本法に準拠します。本アプリに関する紛争については、東京地方裁判所を第一審の専属的合意管轄裁判所とします。
                
                第12条（お問い合わせ）
                
                本規約に関するお問い合わせは、App Storeのアプリページからご連絡ください。
                
                ---
                
                以上
                """)
                .font(.body)
            }
            .padding()
        }
    }
}

struct PrivacyPolicyView: View {
    var body: some View {
        ScrollView {
            VStack(alignment: .leading, spacing: 16) {
                Text(L10n.privacy.text)
                    .font(.largeTitle)
                    .bold()
                    .padding(.bottom, 8)
                
                Text("""
                最終更新日: 2025年12月9日
                
                TrapFinder（以下「本アプリ」）は、ユーザーのプライバシーを尊重し、個人情報の保護に努めます。本プライバシーポリシーは、本アプリがどのような情報を収集し、どのように使用するかを説明するものです。
                
                1. 収集する情報
                
                1.1 ユーザーが提供する情報
                本アプリは、ユーザーが解析のために提供する文書データ（画像、テキスト、PDFファイル、URL）を一時的に処理します。これらのデータは以下の特徴があります：
                • 端末上または一時的なサーバー処理のためにのみ使用されます
                • 永続的に保存されることはありません
                • AIの学習データとして使用されることはありません
                • 解析完了後、速やかに削除されます
                
                1.2 自動的に収集される情報
                • アプリの利用状況（クラッシュレポート、エラーログ）
                • デバイス情報（OSバージョン、デバイスモデル）
                • 広告識別子（IDFA）※広告表示のため
                
                2. 情報の利用目的
                
                収集した情報は以下の目的でのみ使用します：
                • AI解析機能の提供（OpenAI APIを使用）
                • アプリの機能改善およびバグ修正
                • 広告の配信（Google AdMob経由）
                
                3. 第三者サービスの利用
                
                3.1 OpenAI API
                本アプリは、文書解析のためにOpenAI APIを使用します。ユーザーが提供した文書データは、解析のためにOpenAIのサーバーに送信されますが、OpenAIのデータ使用ポリシーに従い、AI学習には使用されません。
                詳細: https://openai.com/policies/privacy-policy
                
                3.2 Google AdMob
                本アプリは、広告収入によるマネタイズのためにGoogle AdMobを使用しています。AdMobは、広告配信の最適化のために広告識別子（IDFA）を収集する場合があります。ユーザーは、iOS設定からトラッキングを拒否できます。
                詳細: https://policies.google.com/privacy
                
                4. 個人情報の保護
                
                • データの暗号化: 通信はすべてHTTPS/TLSで暗号化されます
                • データの削除: 解析完了後、ユーザーデータは速やかに削除されます
                • 第三者提供の制限: 法令に基づく場合を除き、第三者に提供しません
                
                5. ユーザーの権利
                
                ユーザーは以下の権利を有します：
                • トラッキングの拒否（iOS設定から変更可能）
                • アプリの使用停止およびアンインストール
                
                6. お問い合わせ
                
                プライバシーに関するご質問は、App Storeのアプリページからお問い合わせいただくか、support@trapfinder.app までご連絡ください。
                
                7. プライバシーポリシーの変更
                
                本プライバシーポリシーは、法令の変更やサービスの改善に伴い、予告なく変更される場合があります。重要な変更がある場合は、アプリ内で通知します。
                """)
                .font(.body)
            }
            .padding()
        }
    }
}
